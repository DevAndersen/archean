@using Archean.App.WebApp.Components.Layout
@using Archean.App.WebApp.Components.Pages
@using Microsoft.AspNetCore.Components.Authorization
@using System.Net

<CascadingAuthenticationState>
    <AuthorizeView>

        <Authorized>
            <Router AppAssembly="typeof(Program).Assembly">
                <Found Context="routeData">
                    <RouteView RouteData="routeData" DefaultLayout="typeof(MainLayout)" />
                </Found>
                <NotFound>
                    <LayoutView Layout="typeof(MainLayout)">
                        <HttpStatusPage StatusCode="HttpStatusCode.NotFound" />
                    </LayoutView>
                </NotFound>
            </Router>
        </Authorized>

        <NotAuthorized>
            <LayoutView Layout="typeof(LoginLayout)">
                <Login />
            </LayoutView>
        </NotAuthorized>

    </AuthorizeView>
</CascadingAuthenticationState>
